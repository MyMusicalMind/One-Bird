var Hogan={};(function(k,h){k.Template=function(p,q,o,n){this.r=p||this.r;this.c=o;this.options=n;this.text=q||"";this.buf=(h)?[]:""};k.Template.prototype={r:function(p,o,n){return""},v:c,t:e,render:function b(p,o,n){return this.ri([p],o||{},n)},ri:function(p,o,n){return this.r(p,o,n)},rp:function(p,r,q,n){var o=q[p];if(!o){return""}if(this.c&&typeof o=="string"){o=this.c.compile(o,this.options)}return o.ri(r,q,n)},rs:function(q,p,r){var n=q[q.length-1];if(!g(n)){r(q,p,this);return}for(var o=0;o<n.length;o++){q.push(n[o]);r(q,p,this);q.pop()}},s:function(t,o,r,p,u,n,q){var s;if(g(t)&&t.length===0){return false}if(typeof t=="function"){t=this.ls(t,o,r,p,u,n,q)}s=(t==="")||!!t;if(!p&&s&&o){o.push((typeof t=="object")?t:o[o.length-1])}return s},d:function(r,o,q,s){var t=r.split("."),u=this.f(t[0],o,q,s),n=null;if(r==="."&&g(o[o.length-2])){return o[o.length-1]}for(var p=1;p<t.length;p++){if(u&&typeof u=="object"&&t[p] in u){n=u;u=u[t[p]]}else{u=""}}if(s&&!u){return false}if(!s&&typeof u=="function"){o.push(n);u=this.lv(u,o,q);o.pop()}return u},f:function(r,n,q,s){var u=false,o=null,t=false;for(var p=n.length-1;p>=0;p--){o=n[p];if(o&&typeof o=="object"&&r in o){u=o[r];t=true;break}}if(!t){return(s)?false:""}if(!s&&typeof u=="function"){u=this.lv(u,n,q)}return u},ho:function(v,n,r,u,p){var s=this.c;var o=this.options;o.delimiters=p;var q=v.call(n,u,function(w){return s.compile(w,o).render(n,r)});this.b(s.compile(q.toString(),o).render(n,r));return false},b:(h)?function(n){this.buf.push(n)}:function(n){this.buf+=n},fl:(h)?function(){var n=this.buf.join("");this.buf=[];return n}:function(){var n=this.buf;this.buf="";return n},ls:function(o,v,s,p,n,q,w){var r=v[v.length-1],u=null;if(!p&&this.c&&o.length>0){return this.ho(o,r,s,this.text.substring(n,q),w)}u=o.call(r);if(typeof u=="function"){if(p){return true}else{if(this.c){return this.ho(u,r,s,this.text.substring(n,q),w)}}}return u},lv:function(r,p,q){var o=p[p.length-1];var n=r.call(o);if(typeof n=="function"){n=n.call(o)}n=e(n);if(this.c&&~n.indexOf("{\u007B")){return this.c.compile(n,this.options).render(o,q)}return n}};var j=/&/g,d=/</g,a=/>/g,m=/\'/g,l=/\"/g,f=/[&<>\"\']/;function e(n){return String((n===null||n===undefined)?"":n)}function c(n){n=e(n);return f.test(n)?n.replace(j,"&amp;").replace(d,"&lt;").replace(a,"&gt;").replace(m,"&#39;").replace(l,"&quot;"):n}var g=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"}})(typeof exports!=="undefined"?exports:Hogan);(function(o){var f=/\S/,k=/\"/g,p=/\n/g,l=/\r/g,w=/\\/g,a={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};o.scan=function n(I,D){var Q=I.length,A=0,F=1,z=2,B=A,E=null,S=null,R="",L=[],H=false,P=0,M=0,J=",O=";function N(){if(R.length>0){L.push(new String(R));R=""}}function C(){var U=true;for(var T=M;T<L.length;T++){U=(L[T].tag&&a[L[T].tag]<a._v)||(!L[T].tag&&L[T].match(f)===null);if(!U){return false}}return U}function K(W,T){N();if(W&&C()){for(var U=M,V;U<L.length;U++){if(!L[U].tag){if((V=L[U+1])&&V.tag==">"){V.indent=L[U].toString()}L.splice(U,1)}}}else{if(!T){L.push({tag:"\n"})}}H=false;M=L.length}function G(X,U){var W="="+O,T=X.indexOf(W,U),V=s(X.substring(X.indexOf("=",U)+1,T)).split(" ");J=V[0];O=V[1];return T+W.length-1}if(D){D=D.split(" ");J=D[0];O=D[1]}for(P=0;P<Q;P++){if(B==A){if(y(J,I,P)){--P;N();B=F}else{if(I.charAt(P)=="\n"){K(H)}else{R+=I.charAt(P)}}}else{if(B==F){P+=J.length-1;S=a[I.charAt(P+1)];E=S?I.charAt(P+1):"_v";if(E=="="){P=G(I,P);B=A}else{if(S){P++}B=z}H=P}else{if(y(O,I,P)){L.push({tag:E,n:s(R),otag:J,ctag:O,i:(E=="/")?H-O.length:P+J.length});R="";P+=O.length-1;B=A;if(E=="{"){if(O=="}}"){P++}else{t(L[L.length-1])}}}else{R+=I.charAt(P)}}}}K(H,true);return L};function t(z){if(z.n.substr(z.n.length-1)==="}"){z.n=z.n.substring(0,z.n.length-1)}}function s(z){if(z.trim){return z.trim()}return z.replace(/^\s*|\s*$/g,"")}function y(z,D,B){if(D.charAt(B)!=z.charAt(0)){return false}for(var C=1,A=z.length;C<A;C++){if(D.charAt(B+C)!=z.charAt(C)){return false}}return true}function b(F,C,A,E){var z=[],D=null,B=null;while(F.length>0){B=F.shift();if(B.tag=="#"||B.tag=="^"||e(B,E)){A.push(B);B.nodes=b(F,B.tag,A,E);z.push(B)}else{if(B.tag=="/"){if(A.length===0){throw new Error("Closing tag without opener: /"+B.n)}D=A.pop();if(B.n!=D.n&&!g(B.n,D.n,E)){throw new Error("Nesting error: "+D.n+" vs. "+B.n)}D.end=B.i;return z}else{z.push(B)}}}if(A.length>0){throw new Error("missing closing tag: "+A.pop().n)}return z}function e(C,A){for(var B=0,z=A.length;B<z;B++){if(A[B].o==C.n){C.tag="#";return true}}}function g(D,B,A){for(var C=0,z=A.length;C<z;C++){if(A[C].c==D&&A[C].o==B){return true}}}function r(z){return'var _=this;_.b(i=i||"");'+v(z)+"return _.fl();"}o.generate=function(A,B,z){if(z.asString){return"function(c,p,i){"+A+";}"}return new o.Template(new Function("c","p","i",A),B,o,z)};function x(z){return z.replace(w,"\\\\").replace(k,'\\"').replace(p,"\\n").replace(l,"\\r")}function j(z){return(~z.indexOf("."))?"d":"f"}function v(A){var D="";for(var C=0,B=A.length;C<B;C++){var z=A[C].tag;if(z=="#"){D+=h(A[C].nodes,A[C].n,j(A[C].n),A[C].i,A[C].end,A[C].otag+" "+A[C].ctag)}else{if(z=="^"){D+=u(A[C].nodes,A[C].n,j(A[C].n))}else{if(z=="<"||z==">"){D+=d(A[C])}else{if(z=="{"||z=="&"){D+=c(A[C].n,j(A[C].n))}else{if(z=="\n"){D+=m('"\\n"'+(A.length-1==C?"":" + i"))}else{if(z=="_v"){D+=q(A[C].n,j(A[C].n))}else{if(z===undefined){D+=m('"'+x(A[C])+'"')}}}}}}}}return D}function h(A,E,D,C,z,B){return"if(_.s(_."+D+'("'+x(E)+'",c,p,1),c,p,0,'+C+","+z+',"'+B+'")){_.rs(c,p,function(c,p,_){'+v(A)+"});c.pop();}"}function u(z,B,A){return"if(!_.s(_."+A+'("'+x(B)+'",c,p,1),c,p,1,0,0,"")){'+v(z)+"};"}function d(z){return'_.b(_.rp("'+x(z.n)+'",c,p,"'+(z.indent||"")+'"));'}function c(A,z){return"_.b(_.t(_."+z+'("'+x(A)+'",c,p,0)));'}function q(A,z){return"_.b(_.v(_."+z+'("'+x(A)+'",c,p,0)));'}function m(z){return"_.b("+z+");"}o.parse=function(A,B,z){z=z||{};return b(A,"",[],z.sectionTags||[])},o.cache={};o.compile=function(C,z){z=z||{};var B=C+"||"+!!z.asString;var A=this.cache[B];if(A){return A}A=this.generate(r(this.parse(this.scan(C,z.delimiters),C,z)),C,z);return this.cache[B]=A}})(typeof exports!=="undefined"?exports:Hogan);(function(f){f.timeago=function(k){if(k instanceof Date){return b(k)}else{if(typeof k==="string"){return b(f.timeago.parse(k))}else{return b(f.timeago.datetime(k))}}};var e=f.timeago;f.extend(f.timeago,{settings:{refreshMillis:60000,allowFuture:false,strings:{suffixAgo:"",suffixFromNow:"",now:"Agora",minute:"Há 1 minuto",minutes:"Há %d minutos",hour:"Há 1 hora",hours:"Há %d horas",yesterday:"Ontem às %d:%d",twodays:"%d às %d:%d",daysago:"%d/%d/%d às %d:%d",years:"%d/%d"}},inWords:function(s,l){var t=this.settings.strings;var o=t.prefixAgo;var x=t.suffixAgo;if(this.settings.allowFuture){if(s<0){o=t.prefixFromNow;x=t.suffixFromNow}s=Math.abs(s)}var v=s/1000;var m=v/60;var u=m/60;var w=u/24;var p=w/365;function n(y,A){var z=f.isFunction(y)?y(A,s):y;var B=(t.numbers&&t.numbers[A])||A;return z.replace(/%d/i,B)}function k(y){var z=new Array("domingo","segunda","terça","quarta","quinta","sexta","sábado");return z[y]}function q(z){var y=new Array("jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez");return y[z]}var r=v<60&&n(t.now,1)||m<2&&n(t.minute,1)||m<60&&n(t.minutes,parseInt(m))||u<2&&n(t.hour,1)||u<24&&n(t.hours,parseInt(u))||u<48&&n(n(t.yesterday,h(l.getHours())),h(l.getMinutes()))||u<72&&n(n(n(t.twodays,k(l.getDay())),h(l.getHours())),h(l.getMinutes()))||p<2&&n(n(n(n(n(t.daysago,h(l.getDate())),q(l.getMonth())),h(l.getFullYear())),h(l.getHours())),h(l.getMinutes()))||n(n(t.years,q(l.getMonth())),h(l.getFullYear()));n(n(t.yesterday,h(l.getHours())),h(l.getMinutes()));return f.trim([o,r,x].join(" "))},parse:function(l){var k=f.trim(l);k=k.replace(/\.\d\d\d+/,"");k=k.replace(/-/,"/").replace(/-/,"/");k=k.replace(/T/," ").replace(/Z/," UTC");k=k.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2");return new Date(k)},datetime:function(l){var k=f(l).attr("data-time");return e.parse(k)}});f.fn.timeago=function(m){e.settings.serverDiff=0;if(m){e.settings.serverDiff=new Date().getTime()-m}var l=this;f(l.selector).each(g);var k=e.settings;if(k.refreshMillis>0){setInterval(function(){f(l.selector).each(g)},k.refreshMillis)}return l};function g(){var k=j(this);if(!isNaN(k.datetime)){f(this).text(b(k.datetime))}return this}function h(k){k=k.toString();if(k.length==1){k="0"+k}else{if(k.length==4){k=k.substring(2,4)}}return k}function d(l){var k=new Array("Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro");return k[l]}function c(k){var l=new Array("Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado");return l[k]}function j(l){l=f(l);if(!l.data("timeago")){l.data("timeago",{datetime:e.datetime(l)});var k=l.data("timeago").datetime}return l.data("timeago")}function b(k){return e.inWords(a(k),k)}function a(k){return(new Date().getTime()-k.getTime()-e.settings.serverDiff)}document.createElement("abbr");document.createElement("time")}(jQuery));(function(d){var b=["DOMMouseScroll","mousewheel"];if(d.event.fixHooks){for(var a=b.length;a;){d.event.fixHooks[b[--a]]=d.event.mouseHooks}}d.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var e=b.length;e;){this.addEventListener(b[--e],c,false)}}else{this.onmousewheel=c}},teardown:function(){if(this.removeEventListener){for(var e=b.length;e;){this.removeEventListener(b[--e],c,false)}}else{this.onmousewheel=null}}};d.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}});function c(k){var h=k||window.event,g=[].slice.call(arguments,1),l=0,j=true,f=0,e=0;k=d.event.fix(h);k.type="mousewheel";if(h.wheelDelta){l=h.wheelDelta/120}if(h.detail){l=-h.detail/3}e=l;if(h.axis!==undefined&&h.axis===h.HORIZONTAL_AXIS){e=0;f=-1*l}if(h.wheelDeltaY!==undefined){e=h.wheelDeltaY/120}if(h.wheelDeltaX!==undefined){f=-1*h.wheelDeltaX/120}g.unshift(k,l,f,e);return(d.event.dispatch||d.event.handle).apply(this,g)}})(jQuery);(function(d,e,f){d.fn.jScrollPane=function(a){function b(br,bb){var bk,a9=this,a1,bF,aK,bD,a6,a0,s,aO,bi,bS,bs,aW,bh,aX,aV,bO,a5,bz,a2,aM,bw,by,bJ,bC,bl,aT,bu,bm,aI,bq,bP,aZ,be,bG=true,ba=true,bQ=false,aU=false,bA=br.clone(false,false).empty(),bM=d.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";bP=br.css("paddingTop")+" "+br.css("paddingRight")+" "+br.css("paddingBottom")+" "+br.css("paddingLeft");aZ=(parseInt(br.css("paddingLeft"),10)||0)+(parseInt(br.css("paddingRight"),10)||0);function bx(j){var o,m,n,g,h,k,l=false,p=false;bk=j;if(a1===f){h=br.scrollTop();k=br.scrollLeft();br.css({overflow:"hidden",padding:0});bF=br.innerWidth()+aZ;aK=br.innerHeight();br.width(bF);a1=d('<div class="jspPane" />').css("padding",bP).append(br.children());bD=d('<div class="jspContainer" />').css({width:bF+"px",height:aK+"px"}).append(a1).appendTo(br)}else{br.css("width","");l=bk.stickToBottom&&bf();p=bk.stickToRight&&bv();g=br.innerWidth()+aZ!=bF||br.outerHeight()!=aK;if(g){bF=br.innerWidth()+aZ;aK=br.innerHeight();bD.css({width:bF+"px",height:aK+"px"})}if(!g&&be==a6&&a1.outerHeight()==a0){br.width(bF);return}be=a6;a1.css("width","");br.width(bF);bD.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}a1.css("overflow","auto");if(j.contentWidth){a6=j.contentWidth}else{a6=a1[0].scrollWidth}a0=a1[0].scrollHeight;a1.css("overflow","");s=a6/bF;aO=a0/aK;bi=aO>1;bS=s>1;if(!(bS||bi)){br.removeClass("jspScrollable");a1.css({top:0,width:bD.width()-aZ});aR();bp();a8();aJ()}else{br.addClass("jspScrollable");o=bk.maintainPosition&&(bh||bO);if(o){m=bU();n=bW()}bR();c();bn();if(o){bc(p?(a6-bF):m,false);bd(l?(a0-aK):n,false)}bg();bI();bB();if(bk.enableKeyboardNavigation){a7()}if(bk.clickOnTrack){aP()}bt();if(bk.hijackInternalLinks){aS()}}if(bk.autoReinitialise&&!bq){bq=setInterval(function(){bx(bk)},bk.autoReinitialiseDelay)}else{if(!bk.autoReinitialise&&bq){clearInterval(bq)}}h&&br.scrollTop(0)&&bd(h,false);k&&br.scrollLeft(0)&&bc(k,false);br.trigger("jsp-initialised",[bS||bi])}function bR(){if(bi){bD.append(d('<div class="jspVerticalBar" />').append(d('<div class="jspCap jspCapTop" />'),d('<div class="jspTrack" />').append(d('<div class="jspDrag" />').append(d('<div class="jspDragTop" />'),d('<div class="jspDragBottom" />'))),d('<div class="jspCap jspCapBottom" />')));a5=bD.find(">.jspVerticalBar");bz=a5.find(">.jspTrack");bs=bz.find(">.jspDrag");if(bk.showArrows){by=d('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",bT(0,-1)).bind("click.jsp",bV);bJ=d('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",bT(0,1)).bind("click.jsp",bV);if(bk.arrowScrollOnHover){by.bind("mouseover.jsp",bT(0,-1,by));bJ.bind("mouseover.jsp",bT(0,1,bJ))}bE(bz,bk.verticalArrowPositions,by,bJ)}aM=aK;bD.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){aM-=d(this).outerHeight()});bs.hover(function(){bs.addClass("jspHover")},function(){bs.removeClass("jspHover")}).bind("mousedown.jsp",function(h){d("html").bind("dragstart.jsp selectstart.jsp",bV);bs.addClass("jspActive");var g=h.pageY-bs.position().top;d("html").bind("mousemove.jsp",function(j){a4(j.pageY-g,false)}).bind("mouseup.jsp mouseleave.jsp",bo);return false});aQ()}}function aQ(){bz.height(aM+"px");bh=0;a2=bk.verticalGutter+bz.outerWidth();a1.width(bF-a2-aZ);try{if(a5.position().left===0){a1.css("margin-left",a2+"px")}}catch(g){}}function c(){if(bS){bD.append(d('<div class="jspHorizontalBar" />').append(d('<div class="jspCap jspCapLeft" />'),d('<div class="jspTrack" />').append(d('<div class="jspDrag" />').append(d('<div class="jspDragLeft" />'),d('<div class="jspDragRight" />'))),d('<div class="jspCap jspCapRight" />')));bC=bD.find(">.jspHorizontalBar");bl=bC.find(">.jspTrack");aX=bl.find(">.jspDrag");if(bk.showArrows){bm=d('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",bT(-1,0)).bind("click.jsp",bV);aI=d('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",bT(1,0)).bind("click.jsp",bV);if(bk.arrowScrollOnHover){bm.bind("mouseover.jsp",bT(-1,0,bm));aI.bind("mouseover.jsp",bT(1,0,aI))}bE(bl,bk.horizontalArrowPositions,bm,aI)}aX.hover(function(){aX.addClass("jspHover")},function(){aX.removeClass("jspHover")}).bind("mousedown.jsp",function(h){d("html").bind("dragstart.jsp selectstart.jsp",bV);aX.addClass("jspActive");var g=h.pageX-aX.position().left;d("html").bind("mousemove.jsp",function(j){a3(j.pageX-g,false)}).bind("mouseup.jsp mouseleave.jsp",bo);return false});aT=bD.innerWidth();bH()}}function bH(){bD.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){aT-=d(this).outerWidth()});bl.width(aT+"px");bO=0}function bn(){if(bS&&bi){var h=bl.outerHeight(),g=bz.outerWidth();aM-=h;d(bC).find(">.jspCap:visible,>.jspArrow").each(function(){aT+=d(this).outerWidth()});aT-=g;aK-=g;bF-=h;bl.parent().append(d('<div class="jspCorner" />').css("width",h+"px"));aQ();bH()}if(bS){a1.width((bD.outerWidth()-aZ)+"px")}a0=a1.outerHeight();aO=a0/aK;if(bS){bu=Math.ceil(1/s*aT);if(bu>bk.horizontalDragMaxWidth){bu=bk.horizontalDragMaxWidth}else{if(bu<bk.horizontalDragMinWidth){bu=bk.horizontalDragMinWidth}}aX.width(bu+"px");aV=aT-bu;bK(bO)}if(bi){bw=Math.ceil(1/aO*aM);if(bw>bk.verticalDragMaxHeight){bw=bk.verticalDragMaxHeight}else{if(bw<bk.verticalDragMinHeight){bw=bk.verticalDragMinHeight}}bs.height(bw+"px");aW=aM-bw;bL(bh)}}function bE(m,k,n,h){var g="before",l="after",j;if(k=="os"){k=/Mac/.test(navigator.platform)?"after":"split"}if(k==g){l=k}else{if(k==l){g=k;j=n;n=h;h=j}}m[g](n)[l](h)}function bT(j,g,h){return function(){bj(j,g,this,h);this.blur();return false}}function bj(l,m,g,j){g=d(g).addClass("jspActive");var k,n,o=true,h=function(){if(l!==0){a9.scrollByX(l*bk.arrowButtonSpeed)}if(m!==0){a9.scrollByY(m*bk.arrowButtonSpeed)}n=setTimeout(h,o?bk.initialDelay:bk.arrowRepeatFreq);o=false};h();k=j?"mouseout.jsp":"mouseup.jsp";j=j||d("html");j.bind(k,function(){g.removeClass("jspActive");n&&clearTimeout(n);n=null;j.unbind(k)})}function aP(){aJ();if(bi){bz.bind("mousedown.jsp",function(j){if(j.originalTarget===f||j.originalTarget==j.currentTarget){var l=d(this),g=l.offset(),k=j.pageY-g.top-bh,n,o=true,h=function(){var q=l.offset(),p=j.pageY-q.top-bw/2,t=aK*bk.scrollPagePercent,r=aW*t/(a0-aK);if(k<0){if(bh-r>p){a9.scrollByY(-t)}else{a4(p)}}else{if(k>0){if(bh+r<p){a9.scrollByY(t)}else{a4(p)}}else{m();return}}n=setTimeout(h,o?bk.initialDelay:bk.trackClickRepeatFreq);o=false},m=function(){n&&clearTimeout(n);n=null;d(document).unbind("mouseup.jsp",m)};h();d(document).bind("mouseup.jsp",m);return false}})}if(bS){bl.bind("mousedown.jsp",function(j){if(j.originalTarget===f||j.originalTarget==j.currentTarget){var l=d(this),g=l.offset(),k=j.pageX-g.left-bO,n,o=true,h=function(){var q=l.offset(),p=j.pageX-q.left-bu/2,t=bF*bk.scrollPagePercent,r=aV*t/(a6-bF);if(k<0){if(bO-r>p){a9.scrollByX(-t)}else{a3(p)}}else{if(k>0){if(bO+r<p){a9.scrollByX(t)}else{a3(p)}}else{m();return}}n=setTimeout(h,o?bk.initialDelay:bk.trackClickRepeatFreq);o=false},m=function(){n&&clearTimeout(n);n=null;d(document).unbind("mouseup.jsp",m)};h();d(document).bind("mouseup.jsp",m);return false}})}}function aJ(){if(bl){bl.unbind("mousedown.jsp")}if(bz){bz.unbind("mousedown.jsp")}}function bo(){d("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");if(bs){bs.removeClass("jspActive")}if(aX){aX.removeClass("jspActive")}}function a4(g,h){if(!bi){return}if(g<0){g=0}else{if(g>aW){g=aW}}if(h===f){h=bk.animateScroll}if(h){a9.animate(bs,"top",g,bL)}else{bs.css("top",g);bL(g)}}function bL(l){if(l===f){l=bs.position().top}bD.scrollTop(0);bh=l;var h=bh===0,k=bh==aW,j=l/aW,g=-j*(a0-aK);if(bG!=h||bQ!=k){bG=h;bQ=k;br.trigger("jsp-arrow-change",[bG,bQ,ba,aU])}aL(h,k);a1.css("top",g);br.trigger("jsp-scroll-y",[-g,h,k]).trigger("scroll")}function a3(h,g){if(!bS){return}if(h<0){h=0}else{if(h>aV){h=aV}}if(g===f){g=bk.animateScroll}if(g){a9.animate(aX,"left",h,bK)}else{aX.css("left",h);bK(h)}}function bK(l){if(l===f){l=aX.position().left}bD.scrollTop(0);bO=l;var h=bO===0,j=bO==aV,k=l/aV,g=-k*(a6-bF);if(ba!=h||aU!=j){ba=h;aU=j;br.trigger("jsp-arrow-change",[bG,bQ,ba,aU])}aN(h,j);a1.css("left",g);br.trigger("jsp-scroll-x",[-g,h,j]).trigger("scroll")}function aL(h,g){if(bk.showArrows){by[h?"addClass":"removeClass"]("jspDisabled");bJ[g?"addClass":"removeClass"]("jspDisabled")}}function aN(h,g){if(bk.showArrows){bm[h?"addClass":"removeClass"]("jspDisabled");aI[g?"addClass":"removeClass"]("jspDisabled")}}function bd(g,j){var h=g/(a0-aK);a4(h*aW,j)}function bc(j,g){var h=j/(a6-bF);a3(h*aV,g)}function bN(j,o,g){var r,v,u,w=0,k=0,h,p,q,m,n,l;try{r=d(j)}catch(t){return}v=r.outerHeight();u=r.outerWidth();bD.scrollTop(0);bD.scrollLeft(0);while(!r.is(".jspPane")){w+=r.position().top;k+=r.position().left;r=r.offsetParent();if(/^body|html$/i.test(r[0].nodeName)){return}}h=bW();q=h+aK;if(w<h||o){n=w-bk.verticalGutter}else{if(w+v>q){n=w-aK+v+bk.verticalGutter}}if(n){bd(n,g)}p=bU();m=p+bF;if(k<p||o){l=k-bk.horizontalGutter}else{if(k+u>m){l=k-bF+u+bk.horizontalGutter}}if(l){bc(l,g)}}function bU(){return -a1.position().left}function bW(){return -a1.position().top}function bf(){var g=a0-aK;return(g>20)&&(g-bW()<10)}function bv(){var g=a6-bF;return(g>20)&&(g-bU()<10)}function bI(){bD.unbind(bM).bind(bM,function(j,h,k,m){var l=bO,g=bh;a9.scrollBy(k*bk.mouseWheelSpeed,-m*bk.mouseWheelSpeed,false);return l==bO&&g==bh})}function aR(){bD.unbind(bM)}function bV(){return false}function bg(){a1.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(g){bN(g.target,false)})}function bp(){a1.find(":input,a").unbind("focus.jsp")}function a7(){var g,k,h=[];bS&&h.push(bC[0]);bi&&h.push(a5[0]);a1.focus(function(){br.focus()});br.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(l){if(l.target!==this&&!(h.length&&d(l.target).closest(h).length)){return}var m=bO,n=bh;switch(l.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:g=l.keyCode;j();break;case 35:bd(a0-aK);g=null;break;case 36:bd(0);g=null;break}k=l.keyCode==g&&m!=bO||n!=bh;return !k}).bind("keypress.jsp",function(l){if(l.keyCode==g){j()}return !k});if(bk.hideFocus){br.css("outline","none");if("hideFocus" in bD[0]){br.attr("hideFocus",true)}}else{br.css("outline","");if("hideFocus" in bD[0]){br.attr("hideFocus",false)}}function j(){var l=bO,m=bh;switch(g){case 40:a9.scrollByY(bk.keyboardSpeed,false);break;case 38:a9.scrollByY(-bk.keyboardSpeed,false);break;case 34:case 32:a9.scrollByY(aK*bk.scrollPagePercent,false);break;case 33:a9.scrollByY(-aK*bk.scrollPagePercent,false);break;case 39:a9.scrollByX(bk.keyboardSpeed,false);break;case 37:a9.scrollByX(-bk.keyboardSpeed,false);break}k=l!=bO||m!=bh;return k}}function a8(){br.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function bt(){if(location.hash&&location.hash.length>1){var h,k,j=escape(location.hash.substr(1));try{h=d("#"+j+', a[name="'+j+'"]')}catch(g){return}if(h.length&&a1.find(j)){if(bD.scrollTop()===0){k=setInterval(function(){if(bD.scrollTop()>0){bN(h,true);d(document).scrollTop(bD.position().top);clearInterval(k)}},50)}else{bN(h,true);d(document).scrollTop(bD.position().top)}}}}function aS(){if(d(document.body).data("jspHijack")){return}d(document.body).data("jspHijack",true);d(document.body).delegate("a[href*=#]","click",function(q){var h=this.href.substr(0,this.href.indexOf("#")),p=location.href,l,k,g,n,o,m;if(location.href.indexOf("#")!==-1){p=location.href.substr(0,location.href.indexOf("#"))}if(h!==p){return}l=escape(this.href.substr(this.href.indexOf("#")+1));k;try{k=d("#"+l+', a[name="'+l+'"]')}catch(j){return}if(!k.length){return}g=k.closest(".jspScrollable");n=g.data("jsp");n.scrollToElement(k,true);if(g[0].scrollIntoView){o=d(e).scrollTop();m=k.offset().top;if(m<o||m>o+d(e).height()){g[0].scrollIntoView()}}q.preventDefault()})}function bB(){var l,m,j,k,h,g=false;bD.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(o){var n=o.originalEvent.touches[0];l=bU();m=bW();j=n.pageX;k=n.pageY;h=false;g=true}).bind("touchmove.jsp",function(n){if(!g){return}var o=n.originalEvent.touches[0],p=bO,q=bh;a9.scrollTo(l+j-o.pageX,m+k-o.pageY);h=h||Math.abs(j-o.pageX)>5||Math.abs(k-o.pageY)>5;return p==bO&&q==bh}).bind("touchend.jsp",function(n){g=false}).bind("click.jsp-touchclick",function(n){if(h){h=false;return false}})}function aY(){var g=bW(),h=bU();br.removeClass("jspScrollable").unbind(".jsp");br.replaceWith(bA.append(a1.children()));bA.scrollTop(g);bA.scrollLeft(h);if(bq){clearInterval(bq)}}d.extend(a9,{reinitialise:function(g){g=d.extend({},bk,g);bx(g)},scrollToElement:function(h,j,g){bN(h,j,g)},scrollTo:function(h,g,j){bc(h,j);bd(g,j)},scrollToX:function(h,g){bc(h,g)},scrollToY:function(g,h){bd(g,h)},scrollToPercentX:function(h,g){bc(h*(a6-bF),g)},scrollToPercentY:function(h,g){bd(h*(a0-aK),g)},scrollBy:function(j,g,h){a9.scrollByX(j,h);a9.scrollByY(g,h)},scrollByX:function(g,j){var k=bU()+Math[g<0?"floor":"ceil"](g),h=k/(a6-bF);a3(h*aV,j)},scrollByY:function(g,j){var k=bW()+Math[g<0?"floor":"ceil"](g),h=k/(a0-aK);a4(h*aW,j)},positionDragX:function(g,h){a3(g,h)},positionDragY:function(h,g){a4(h,g)},animate:function(l,h,g,j){var k={};k[h]=g;l.animate(k,{duration:bk.animateDuration,easing:bk.animateEase,queue:false,step:j})},getContentPositionX:function(){return bU()},getContentPositionY:function(){return bW()},getContentWidth:function(){return a6},getContentHeight:function(){return a0},getPercentScrolledX:function(){return bU()/(a6-bF)},getPercentScrolledY:function(){return bW()/(a0-aK)},getIsScrollableH:function(){return bS},getIsScrollableV:function(){return bi},getContentPane:function(){return a1},scrollToBottom:function(g){a4(aW,g)},hijackInternalLinks:d.noop,destroy:function(){aY()}});bx(bb)}a=d.extend({},d.fn.jScrollPane.defaults,a);d.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){a[this]=a[this]||a.speed});return this.each(function(){var h=d(this),c=h.data("jsp");if(c){c.reinitialise(a)}else{c=new b(h,a);h.data("jsp",c)}})};d.fn.jScrollPane.defaults={showArrows:false,maintainPosition:true,stickToBottom:false,stickToRight:false,clickOnTrack:true,autoReinitialise:false,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:f,animateScroll:false,animateDuration:300,animateEase:"linear",hijackInternalLinks:false,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:false,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:true,hideFocus:false,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:0.8}})(jQuery,this);(function(window,$){var SS=window.SS||{},isSafari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0;function userAvatar(size,id,avatar){var url,baseurl="//s2.sscdn.co/uploadfile/cifraclub/avatar/";size=parseInt(size,10)||35;id=id+"";if(avatar.indexOf("avatar")!==-1){if(avatar.indexOf("avatar_masc")!==-1){url="avatar_masc.gif"}else{if(avatar.indexOf("avatar_fem")!==-1){url="avatar_fem.gif"}}if($.inArray(size,[50,45,35,25])>-1){url=url.replace(".","_"+size+".")}return baseurl+url}if($.inArray(size,[50,45,35,25])>-1){avatar=avatar.replace(".","_"+size+".")}return baseurl+id.slice(-2,-1)+"/"+id.slice(-1)+"/"+avatar}function setClickout(elem,callback){$(document).on("click.ccid",function(e){if(elem.is(":visible")&&!elem.has(e.target).length){elem.fadeOut(100);if(typeof callback==="function"){callback()}$(document).unbind("click.ccid")}})}function gettext(x){return x}function hoganCompile(tpl){return Hogan.compile(tpl,{delimiters:"[[ ]]"})}SS.ccidbar=(function(){var $ccidbar,_loginOauthEmbed=false,_hostname=window.location.hostname,_isOauthOpen=false,COOKIES_REGEXP=new RegExp("(location|checkup|preferencias_user|fcc|palcomp3|login|nickname|email|avatar)"),_id_iframe_login="l_ccidbar",_init,_onMenuItemOver,_onMenuItemOut,_openTab,_closeTabs,_tabJsonp,_positionLoginModal,_loadSide,_globalSyncCallback,_syncModalJsonp,_events,_openLoginModal,_logged,_setUserData,_updateUserObject,_initMessageEvent,_onWindowMessage,_setUserCookies,_addClassesByBrowser,_handleSyncLoginViaIframe,_handleLoginViaIframe,_setCookie,_getCookie,_deleteCookie,_openSyncModal,_deleteUserCookies,_toggleOauthOptions,_handleOAuthClick,_setAllCookies,_clearOrCreateCookies,_getCurrentDomain,_doLogin,_getMenu,_handleDoLogin,_callLoginCallback,_setLoginData,_placeSideHTML,_oauthWindowControl,_handleLoginJson,_isDifferentDomain,_appendIframeLogin,_appendGPlus,_getTerraReferer,_isMSIE=
/*@cc_on!@*/
0;function detectIE(){var ua=window.navigator.userAgent;var msie=ua.indexOf("MSIE ");var edge=ua.indexOf("Edge/");var trident=ua.indexOf("Trident/");if(edge>0||trident>0||msie>0){return true}return false}_isMSIE=detectIE();_appendIframeLogin=function(){if($("#"+_id_iframe_login).length===0){$(["<if","rame>"].join(""),{id:_id_iframe_login,name:"l_ccidbar",src:"javascript:void(0)",css:{border:0,height:0,width:0,display:"none"}}).appendTo("body")}};_setLoginData=function(data){_setUserData(data.c);SS.ccidbar.consts.IS_LOGGED=data.logged;SS.ccidbar.consts.IS_ACTIVE=data.active;SS.ccidbar.consts.IS_CCID_ACCOUNT=data.is_ccid;_loadSide();SS.ccidbar.onLogin();SS.ccidbar.notifications.init()};_callLoginCallback=function(callback,data){return callback.call(SS.ccidbar,data||{})};_doLogin=function(email,password,callback){if(SS.ccidbar.isLogged()){return _callLoginCallback(callback,{error:false,msg:"ok"})}_appendIframeLogin();$("<form>",{id:"ccidbar-temp-form",method:"post",action:SS.ccidbar.consts.URLS.ccid+"login/external/",target:_id_iframe_login,name:"l_ccid",html:'<input type="text" name="email" value="'+email+'"><input type="text" name="senha" value="'+password+'">',css:{height:0,width:0,display:"none"},data:{"login-callback":function(response){if(typeof callback==="function"){_callLoginCallback(callback,response)}$("#ccidbar-temp-form").remove()}}}).appendTo("body").submit()};_initMessageEvent=function(){var messageEvent="",eventMethod="";eventMethod=window.addEventListener?"addEventListener":"attachEvent";messageEvent=eventMethod=="attachEvent"?"onmessage":"message";window[eventMethod](messageEvent,_onWindowMessage,false)};_onWindowMessage=function(data){if(!data.origin||(data.origin.indexOf("ccid.cifraclub")===-1&&data.origin.indexOf("prime")===-1)){return false}try{_handleLoginJson(data.data)}catch(e){}};_handleLoginJson=function(data){var dados=$.parseJSON(data);if(dados.autoFill){SS.ccid.cadastro.autoFillFormData(dados)}else{if(dados.c.isSync){_handleSyncLoginViaIframe(dados)}else{if($("#ccidbar-temp-form").length>0){_handleDoLogin(dados)}else{_handleLoginViaIframe(dados)}}}};_handleDoLogin=function(data){var callback=$("#ccidbar-temp-form").data("login-callback");if(data.error){return _callLoginCallback(callback,{error:true,msg:data.msg})}_setLoginData(data);return _callLoginCallback(callback,{error:false,msg:"Ok"})};_handleSyncLoginViaIframe=function(data){var modal=$("#ccid_sync_modal"),email=modal.find("#email"),senha=modal.find("#senha"),div_erro=senha.parent(),fix_botao=modal.find(".ccid_direita .ccid_submit");if(data.status){_setLoginData(data);modal.fadeOut(200);if(typeof modal.data("sync-callback")==="function"){_callLoginCallback(modal.data("sync-callback"));modal.data("sync-callback",null)}}else{if(!div_erro.hasClass("erro")){div_erro.addClass("erro");div_erro.addClass("ativo");div_erro.after('<label class="erro_input">'+gettext("Login ou senha inválido")+"</label>");fix_botao.css("marginTop","4px")}}};_handleLoginViaIframe=function(data){var modal;if(data.error){$('form[name="l_ccid"] .ccid_text').addClass("erro");$('form[name="l_ccid"] .erro_input').remove();$('form[name="l_ccid"] .ccid_text:odd').after('<label class="erro_input">'+gettext(data.msg)+"</label>");return false}_setLoginData(data);modal=$("#ccid_login_modal");if(typeof modal.data("login-callback")==="function"){_callLoginCallback(modal.data("login-callback"),data)}SS.ccidbar.onLoginIframe.fireWith(data);$(".ccid_close").click();if(_loginOauthEmbed){location.href=$("#http_referer").val()}};_onMenuItemOver=function(){var self=$(this);clearTimeout(window.ccidbar_tab_open);window.ccidbar_tab_open=setTimeout(function(){_openTab(self.data("tab"),self.siblings("div.ccid_aba"))},$ccidbar.data("hovering")===true?170:300)};_onMenuItemOut=function(){var self=$(this);clearTimeout(window.ccidbar_tab_close);clearTimeout(window.ccidbar_tab_open);window.ccidbar_tab_close=setTimeout(function(){_closeTabs()},100)};_openTab=function(tab,elm){$ccidbar.data({currentOpenTab:{tab:tab,elm:elm},hovering:true});elm.stop(true,true).addClass("ccid_open");if(!elm.html()){if(tab!=="fcc"){$.ajax({url:SS.ccidbar.consts.TABS[tab],type:"GET",dataType:"jsonp",cache:true,jsonp:false,jsonpCallback:"SS.ccidbar.tabJsonp",beforeSend:function(){elm.addClass("ccid_loading")}})}else{_tabJsonp({},"fcc")}}};_closeTabs=function(){$ccidbar.find("div.ccid_aba").stop(true,true).clearQueue(false,false).removeClass("ccid_open");$ccidbar.data({currentOpenTab:null,hovering:false})};_tabJsonp=function(data,tab){var tpl="",tplData={};switch(tab){case"cc":tplData={video_aulas:data};break;case"lt":data[3].c=" ccid_destaque_ultimo";data[6].c=" ccid_destaque_ultimo";tplData={agora:data.splice(0,1),artistas:data};break;case"pm":tplData={destaques:data};break;case"ccn":data[1].c=" ccid_destaque_ultimo";data[3].c=" ccid_destaque_ultimo";tplData={noticias:data};break;case"aw":tplData=data;break;case"gb":tplData=data;break;case"fsb":tplData={c:data.splice(0,1),i:data.splice(0,1),s:data.splice(0,1),mus:$.map(data,function(elm,i){if(i%2===0){elm.c="ccid_borda_direita"}return elm})};break}tpl=SS.ccidbar.tpls[tab].render(tplData);$ccidbar.find("[data-tab="+tab+"]").siblings("div.ccid_aba").removeClass("ccid_loading").html(tpl)};_setUserData=function(data){if(_isDifferentDomain()){_setUserCookies(data)}_updateUserObject(data)};_isDifferentDomain=function(){return(_hostname.indexOf(".cifraclub.com.br")===-1)};_setUserCookies=function(cookies){var expTime=30*24*60*60*1000,name="";for(name in cookies){if(cookies.hasOwnProperty(name)){_setCookie(name,cookies[name],expTime)}}};_deleteUserCookies=function(){var cookies=document.cookie.split(";"),i,cookieName,doNotDelete;doNotDelete=["csrftoken","pref","mob","fcc","fcc_anol","fcc_csrfchk"];for(i in cookies){if(cookies.hasOwnProperty(i)){cookieName=$.trim(cookies[i].split("=")[0]);if($.inArray(cookieName,doNotDelete)===-1){_deleteCookie(cookieName)}}}};_deleteCookie=function(cookie){_setCookie(cookie,"deleted",-1000*60*60*24)};_setCookie=function(cookie,value,expirationDate){var expiresOn,domain;if(cookie.substr(0,4)=="__ut"){return false}if(!(expirationDate instanceof Date)){expiresOn=new Date();expiresOn.setTime(expiresOn.getTime()+expirationDate)}expiresOn=expiresOn.toUTCString();domain=_getCurrentDomain();document.cookie=[cookie+"="+encodeURIComponent(value),"expires="+expiresOn,"path=/","domain="+domain].join(";")};_setAllCookies=function(){var necessary=COOKIES_REGEXP.toString(),todos=true,i;necessary=necessary.substr(2,necessary.length-4).split("|");for(i in necessary){if(necessary.hasOwnProperty(i)){if(document.cookie.indexOf(necessary[i])<0){todos=false;break}}}if(!todos){$.ajax({url:SS.ccidbar.consts.URLS.ccid+"cookies.json",type:"GET",dataType:"jsonp",success:function(data){var temp={},i;for(i in data){if($.inArray(i,necessary)>-1){temp[i]=data[i]}}_setUserCookies(temp)}})}};_clearOrCreateCookies=function(){if(!_isDifferentDomain()){return false}if(SS.ccidbar.isLogged()){_setAllCookies()}else{if(COOKIES_REGEXP.test(document.cookie)){_deleteUserCookies()}}};_getCurrentDomain=function(){var domain,pieces,numPieces;pieces=_hostname.split(".");numPieces=pieces.length;if(numPieces>2){if(pieces[numPieces-1]==="com"){domain=[pieces[numPieces-2],pieces[numPieces-1]].join(".")}else{domain=domain=[pieces[numPieces-3],pieces[numPieces-2],pieces[numPieces-1]].join(".")}}else{domain=_hostname}return"."+domain};_updateUserObject=function(data){SS.ccidbar.user={id:data.login||"",nickname:data.nickname||"",email:data.email||"",palcomp3:data.palcomp3!=="0"?data.palcomp3.split("|")[0]:"",city:(data.location||"").split("|")[0],state:(data.location||"").split("|")[1],avatar:function(size){return userAvatar(size,data.login,data.avatar)}}};_loadSide=function(){var tpl_name,tpl_data;if($ccidbar&&$ccidbar.length){if(SS.ccidbar.isLogged()){$.when(_getMenu()).done(function(menu){var i,max;for(i=0,max=menu.length;i<max;i++){menu[i][1]=hoganCompile(menu[i][1]).render(SS.ccidbar.user)}tpl_name="logged_side";tpl_data={avatar:SS.ccidbar.user.avatar(25),avatar_big:SS.ccidbar.user.avatar(75),email:SS.ccidbar.user.email,nickname:unescape(SS.ccidbar.user.nickname),menu:menu,profile:hoganCompile($ccidbar.data("profile-url")).render(SS.ccidbar.user)};_placeSideHTML(tpl_name,tpl_data)})}else{tpl_name="default_side";tpl_data={social:SS.ccidbar.tpls.social.render()};_placeSideHTML(tpl_name,tpl_data)}}};_getMenu=function(){var dfr=$.Deferred(),bar_menu=$ccidbar.data("menu");if(typeof bar_menu==="function"){$.when(bar_menu.apply(SS.ccidbar)).done(function(_menu){dfr.resolve(_menu||[])})}else{dfr.resolve(bar_menu||[])}return dfr.promise()};_placeSideHTML=function(tpl,data){$ccidbar.find("div.ccid_container-lateral").html(SS.ccidbar.tpls[tpl].render(data))};_syncModalJsonp=function(o){var modal=$(o.html);modal.data("sync-callback",_globalSyncCallback);modal.appendTo("body").fadeIn(200);modal.find("button.ccid_close").on("click",function(){modal.fadeOut(200)})};_openSyncModal=function(f){var modal=$("#ccid_sync_modal");if(SS.ccidbar.isCCIDAccount()){if(typeof f==="function"){return f()}return}if(modal.length===0){_globalSyncCallback=typeof f==="function"?f:null;$.ajax({url:SS.ccidbar.consts.URLS.ccid+"sync-modal.json",type:"GET",dataType:"jsonp",jsonp:false,jsonpCallback:"SS.ccidbar.syncModalJsonp"})}else{modal.data("sync-callback",typeof f==="function"?f:null);modal.fadeIn(200)}};_positionLoginModal=function(relElm,position){var modal=$("#ccid_login_modal"),left=relElm.offset().left,top=relElm.offset().top,height=relElm.outerHeight(),width=relElm.outerWidth(),halfHeight=(height/2)|0,halfWidth=(width/2)|0,arrowSize=10,i=0,max;switch(position[0]){case"bottom":top+=height+arrowSize;break;case"left":left-=modal.outerWidth()+arrowSize;break;case"right":left+=width+arrowSize;break}switch(position[1]){case"left_top":left-=60-halfWidth;break;case"right_top":left-=220-halfWidth;break;case"top_left":top-=80-halfHeight;break;case"bottom_left":top-=180-halfHeight;break;case"top_right":top-=80-halfHeight;break;case"bottom_right":top-=180-halfHeight;break}return{top:top,left:left}};_openLoginModal=function(o){var modal,arrow="",validArrowClasses=["ccid_top_left","ccid_bottom_left","ccid_top_right","ccid_bottom_right","ccid_left_top","ccid_right_top"];function onCloseCallback(){if(typeof o.onClose==="function"){o.onClose.call(SS.ccidbar)}}if(typeof o!=="undefined"){modal=$("#ccid_login_modal");if(modal.length===0){modal=$(SS.ccidbar.tpls.login.render({social:SS.ccidbar.tpls.social.render()})).appendTo("body");modal.on("click","a.ccid_close",function(event){event.preventDefault();modal.fadeOut(200).data("login-callback",null);onCloseCallback()})}if("top" in o&&"left" in o){modal.css({top:o.top,left:o.left})}else{if("element" in o){modal.css(_positionLoginModal(o.element,[o.position,o.arrow]))}}arrow="ccid_"+(o&&o.arrow||"");if($.inArray(arrow,validArrowClasses)==-1){arrow="ccid_top_left"}}else{modal=$("#ccid_login_barra")}modal.removeClass(validArrowClasses.join(" ")).addClass(arrow).fadeIn(100);setClickout(modal,onCloseCallback);return true};_logged=function(callback,o){var modal;if(SS.ccidbar.isLogged()){callback.call(SS.ccidbar)}else{_openLoginModal(o);modal=typeof o==="undefined"?$("#ccid_login_barra"):$("#ccid_login_modal");modal.data("login-callback",callback).find("input[name=email]").focus()}};_toggleOauthOptions=function(evt){var elm=$(this).parent();$ccidbar.data("login-box-locked",true);if(!_isOauthOpen){elm.addClass("open")}else{elm.removeClass("open")}_isOauthOpen=!_isOauthOpen;return false};_handleOAuthClick=function(event){var windowOptions={toolbar:"yes",location:"no",status:"yes",resizable:"yes",width:1000,height:620},key,window_oauth,optionsString=[],self=$(this),popupUrl=(SS.ccidbar.consts.CCID_HOST+"barra_login/"+self.data("ccidbar-oauth")+"?http_referer="+window.location.href);_loginOauthEmbed=self.data("embed-login")||false;for(key in windowOptions){if(windowOptions.hasOwnProperty(key)){optionsString.push(key+"="+windowOptions[key])}}window_oauth=window.open(popupUrl,"Login",optionsString.join(","));if(_isMSIE){_oauthWindowControl(window_oauth)}return false};_events=function(){$("body").on("click",".js-ccidbar-oauth",_handleOAuthClick).on("click",".ccid_rede_social .ccid_controll",_toggleOauthOptions).on("click",function(){$("#ccid_login_barra").hide().data("login-callback",null);$ccidbar.data("login-box-locked",false)}).on("focus",".ccid_input_group input",function(){$(this).parent().addClass("ativo")}).on("focusout",".ccid_input_group input",function(){$(this).parent().removeClass("ativo")}).on("focus",".ccid_box_logar input, .ccid_voador input",function(){var a=$(this).parent().parent().parent().find(".ccid_rede_social");a.removeClass("open").addClass("off")}).on("blur",".ccid_box_logar input, .ccid_voador input",function(){var a=$(this).parent().parent().parent().find(".ccid_rede_social");if(_isOauthOpen){a.addClass("open")}a.removeClass("off")});$ccidbar.on("mouseenter","a.ccid_link_bar",_onMenuItemOver).on("mouseout","a.ccid_link_bar, div.ccid_aba",_onMenuItemOut).on("mouseover","div.ccid_aba",function(){clearTimeout(window.ccidbar_tab_close)});if(!isSafari||true){$ccidbar.on("click","a.ccid_bt_logar",function(e){if(!$(this).attr("href")){return false}}).on("mouseenter","a.ccid_bt_logar",function(){$ccidbar.find("div.ccid_box_logar").show()}).on("touchstart","a.ccid_bt_logar",function(e){if(!$ccidbar.find("div.ccid_box_logar").is(":visible")){$ccidbar.find("div.ccid_box_logar").show()}else{$ccidbar.find("div.ccid_box_logar").hide().data("login-callback",null)}e.preventDefault();e.stopPropagation()}).on("mouseover","a.ccid_bt_logar",function(){clearTimeout(window.ccidbar_login)}).on("mouseout","a.ccid_bt_logar",function(){window.ccidbar_login=setTimeout(function(){$("#ccid_login_barra").hide().data("login-callback",null)},200)})}else{$ccidbar.on("click touchstart","a.ccid_bt_logar",function(e){location.href=SS.ccidbar.consts.URLS.ccid})}$ccidbar.on("mouseover","div.ccid_box_logar",function(){clearTimeout(window.ccidbar_login)}).on("mouseleave","div.ccid_box_logar",function(){if(!$ccidbar.data("login-box-locked")){$("#ccid_login_barra").hide().data("login-callback",null)}}).on("click","div.ccid_box_logar",function(e){$ccidbar.data("login-box-locked",true);if($(e.target).parents(".ccid_rede_social").length===0){e.stopPropagation()}}).on("click.logout","a.ccid_logout",function(){var href=$(this).attr("href");if(_isDifferentDomain()){_deleteUserCookies()}if(window.gapi&&gapi.auth.getToken()){window.gplus_df=$.Deferred();$.when(window.gplus_df).then(function(){window.location.href=href});gapi.auth.signOut();return false}});_initMessageEvent()};_oauthWindowControl=function(oauth_window){var url;if(!oauth_window.closed){try{url=window.location.href}catch(e){url=""}if(url&&url.indexOf("#j:")!=-1){_handleLoginJson(url.split("#j:")[1]);window.location.hash="";oauth_window.close()}else{setTimeout(function(){_oauthWindowControl(oauth_window)},2000)}}return false};_addClassesByBrowser=function(){if(!$.browser.msie){return}$("#barra_ccid").addClass("ie"+parseInt($.browser.version,10))};_appendGPlus=function(){window.render=function(){$(".gplus_signin").each(function(){gapi.signin.render(this,{clientid:SS.ccidbar.consts.GPLUS_CLIENT_ID,cookiepolicy:"single_host_origin",scope:"email",redirecturi:"postmessage",accesstype:"offline",callback:"signInCallback"})})};window.signInCallback=function(authResult){var isLogged=SS.ccidbar.isLogged();if(authResult.code){if(isLogged){return false}$.ajax({url:SS.ccidbar.consts.CCID_HOST+"gplus_connect/",type:"GET",dataType:"jsonp",jsonpCallback:"gplusConnect",data:{c:authResult.code},success:function(data){var href=$("#http_referer").val();if(href&&href.length){window.location.href=href}else{_handleLoginJson(data)}}})}else{if(isLogged&&authResult.error=="user_signed_out"){if(window.gplus_df){window.gplus_df.resolve();window.gplus_df=null}}}};var po=document.createElement("script");po.type="text/javascript";po.async=true;po.src="https://plus.google.com/js/client:plusone.js?onload=render";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(po,s)};_getCookie=function(name){return(document.cookie.match("(^|; )"+name+"=([^;]*)")||0)[2]};_isValidDomain=function(domain){var terra_hosts=["terra.com.br","terra.com.ar","terra.cl","terra.com.co","terra.es","terra.com.mx","terra.com.pe","terra.com"];for(i=0;i<terra_hosts.length;i++){if(domain&&domain.indexOf(terra_hosts[i])!==-1){return["www.",terra_hosts[i]].join("")}}return false};_getTerraReferer=function(){var url=false;var valid;var terra_host_on_cookie=_getCookie("_t_h");if(document.referrer){var parser=document.createElement("a");parser.href=document.referrer;valid=_isValidDomain(parser.hostname);if(parser.hostname&&valid!==false){url=valid;_setCookie("_t_h",url,24*60*60*1000)}}valid=_isValidDomain(terra_host_on_cookie);if(!url&&valid!==false){url=valid}if(!url){url=(SS.ccidbar.consts.LANG=="pt_BR"?"www.terra.com.br":"www.terra.com")}return url};_init=function(o){$ccidbar=$("#ccid");var _terra_referer;if($ccidbar.length===1){$ccidbar.data({menu:o.menu||[],"profile-url":o.profile||SS.ccidbar.consts.URLS.ccid+"editar/",hovering:false});$ccidbar.html(SS.ccidbar.tpls.bar.render());_addClassesByBrowser();_loadSide();_terra_referer=_getTerraReferer();if($("#barra_terra").length===1){$("#barra_terra").html(SS.ccidbar.tpls.terra.render({URL:_terra_referer}));$("#btss").fadeIn(200)}if(typeof o.siteId==="string"){$ccidbar.find("ul.ccid_sites a[data-tab="+o.siteId+"]").parent().remove()}$ccidbar.find("div.container_ccid").fadeIn(200);SS.ccidbar.notifications.init()}_clearOrCreateCookies();_appendIframeLogin();_appendGPlus();_events()};return{init:function(o){_init(o||{})},logged:function(f,o){_logged(f,o)},isLogged:function(){return this.consts.IS_LOGGED},isActive:function(){return this.consts.IS_ACTIVE},isCCIDAccount:function(){return this.consts.IS_CCID_ACCOUNT},openSyncModal:function(f){_openSyncModal(f)},openLoginModal:function(o){_openLoginModal(o)},tabJsonp:function(o,tab){_tabJsonp(o,tab)},syncModalJsonp:function(o){_syncModalJsonp(o)},doLogin:function(e,p,f){_doLogin(e,p,f)},deleteUserCookies:function(){_deleteUserCookies()},onLogin:function(){},onLoginIframe:$.Callbacks(),getCurrentDomain:_getCurrentDomain,handleOAuthClick:_handleOAuthClick,appendGPlus:_appendGPlus,initMessageEvent:_initMessageEvent}}());var protocol=(function(){return{http:"https:"==document.location.protocol?"https://":"http://",ws:"https:"==document.location.protocol?"wss://":"ws://"}}());SS.ccidbar.consts={GPLUS_CLIENT_ID:"117776952641-m74qdr07k8ipk75fqjj4e8rgs720076u.apps.googleusercontent.com",URLS:{cc:"//www.cifraclub.com.br/",cc_es:"//www.cifraclub.com/",cctv:"//www.cifraclub.com.br/tv/",ccid:"//ccid.cifraclub.com.br/",ccn:"http://www.cifraclubnews.com.br/",fcc:"http://forum.cifraclub.com.br/",lt:"//letras.mus.br/",lt_es:"//letras.com/",pm:"http://palcomp3.com/",aw:"http://www.audioware.com.br/",gb:"http://www.guitarbattle.com.br/",fsb:"http://www.formesuabanda.com.br/"},TABS:{cc:"//www.cifraclub.com.br/ccid/tab.json",lt:"//letras.mus.br/ccid/tab.json",pm:"//palcomp3.com/ccid/tab.json",ccn:"http://www.cifraclubnews.com.br/ccid/tab.json",aw:"http://www.audioware.com.br/ccid/tab.json",gb:"http://www.guitarbattle.com.br/ccid/tab.json",fsb:"http://www.formesuabanda.com.br/ccid/tab.json"},SUPPORTS_WEBSOCKET:!!("WebSocket" in window),CCID_HOST:protocol.http+"ccid.cifraclub.com.br/",COUNTRY_CODE:"BR",CCIDNS_HOST:protocol.http+"ccid.cifraclub.com.br/ns/",CCIDNS_SOCKET:protocol.ws+"ccid.cifraclub.com.br/ns/",IS_LOGGED:!!("0"|0),IS_ACTIVE:!!("0"|0),IS_CCID_ACCOUNT:!!("0"|0),LANG:"pt_BR",SERVER_TIME:"2015-09-22 09:42:08.103147"};SS.ccidbar.user={id:"",nickname:"",email:"",palcomp3:"",city:"".split("|")[0],state:"".split("|")[1],avatar:function(size){return userAvatar(size,"","avatar_masc.gif")}};SS.ccidbar.tpls=(function(_hogan,consts){var tpls,i,urls,_,_defaults;urls=consts.URLS;_defaults={empty_notifications:'<span class="ccid_aviso">'+gettext("Você não tem nenhuma notificação")+"</span>",logged_side:'<div class="ccid_barra_thumb"><img class="thumb" src="[[avatar]]"><i></i><a href="#" class="ccid_qtd_notificacoes" style="display:none">0</a><div id="ccid_notificacoes" class="ccid_modal ccid_drop ccid_janela"><div class="ccid_titulo_modal">'+gettext("Notificações")+'</div><div class="ccid_lista_notificacoes"><ul></ul></div><div class="ccid_rodape_modal"><a class="ccid_all_notif" href="'+urls.ccid+'notificacoes/">'+gettext("Ver todas as notificações &rarr;")+'</a><a class="ccid_icon_conf" href="'+urls.ccid+'configuracao/">'+gettext("Configura&ccedil;&atilde;o")+'</a></div></div></div><div class="ccid_logar ccid_nome_usuario"><a class="ccid_bt_logar" href="[[profile]]">[[nickname]]</a><div class="ccid_box_logar ccid_drop ccid_dados_usuario"><div class="ccid_colunas"><div class="ccid_avatar"><a href="'+urls.ccid+'editar/" class="ccid_link_cinza"><img src="[[avatar_big]]">'+gettext("editar perfil")+'</a></div><div class="ccid_links_menu"><ul>[[#menu]]<li><a href="[[1]]">[[0]]</a></li>[[/menu]]</ul></div></div><div class="ccid_rodape_modal"><button class="gplus_signin ccid_rede ccid_bt_google" style="display:none">'+gettext("Entrar com Google")+'</button><a href="'+urls.ccid+'logout/" class="ccid_logout">'+gettext("Sair")+" <i></i></a></div></div></div>",default_side:'<div class="ccid_logar"><form method="POST" name="l_ccid" target="l_ccidbar" action="'+consts.CCID_HOST+'login/external/"><a class="ccid_bt_logar">'+gettext("Entrar")+'<b></b></a><div class="ccid_box_logar ccid_drop login_site" id="ccid_login_barra"><div class="ccid_cont"><a class="ccid" href="'+urls.ccid+'">Cifra Club ID</a><div><input type="text" name="email"  class="ccid_text" placeholder="'+gettext("E-mail")+'"></div><div><input type="password" name="senha" class="ccid_text" placeholder="'+gettext("Senha")+'"></div><div class="ccid_botoes"><span class="ccid_left"><a href="'+urls.ccid+'esqueci-senha/" class="ccid_link_cinza"> '+gettext("Esqueci minha senha")+'</a> | <a href="'+urls.ccid+'cadastro/" class="ccid_link_cinza"> '+gettext("Cadastre-se")+'</a></span><input type="submit" value="'+gettext("Entrar")+'" class="ccid_submit ccid_right" /></div></div>[[& social]]</div></form></div>',social:'<div class="ccid_rede_social"><a class="js-ccidbar-oauth ccid_rede ccid_bt_facebook" data-ccidbar-oauth="facebook">'+gettext("Entrar com seu facebook")+'</a><button class="gplus_signin ccid_rede ccid_bt_google">'+gettext("Entrar com Google")+'</button><a class="js-ccidbar-oauth ccid_rede ccid_bt_twitter" data-ccidbar-oauth="twitter">'+gettext("Entrar com seu twitter")+'</a><a class="js-ccidbar-oauth ccid_rede ccid_bt_last" data-ccidbar-oauth="lastfm" >'+gettext("Entrar com seu Last.fm")+'</a><span class="ccid_controll"><i></i></span></div>',login:'<div class="ccid_janela ccid_voador" id="ccid_login_modal"><div class="ccid_titulo_modal"><a class="ccid" href="'+urls.ccid+'">Cifra Club ID</a><a class="ccid_close" href="#">'+gettext("Fechar")+'</a></div><form method="POST" name="l_ccid" target="l_ccidbar" action="'+consts.CCID_HOST+'login/external/"><div class="ccid_cont"><div><input type="text" name="email" class="ccid_text" placeholder="'+gettext("Email")+'"></div><div><input type="password" name="senha" class="ccid_text" placeholder="'+gettext("Senha")+'"></div><div class="ccid_botoes"><span class="ccid_left"><a href="'+urls.ccid+'esqueci-senha/" class="ccid_link_cinza"> '+gettext("Esqueci minha senha")+'</a> | <a href="'+urls.ccid+'cadastro/" class="ccid_link_cinza"> '+gettext("Cadastre-se ")+'</a></span><input type="submit" value="'+gettext("Entrar")+'" class="ccid_submit ccid_right"></div></div></form>[[& social]]<span class="ccid_seta"></span></div>',notifications:'[[#notifications]]<li data-id="[[id]]" data-type="[[type]]" [[#fr]]class="ccid_amizade"[[/fr]]><a href="[[url]]"><span class="ccid_img_notificacao"><img src="//l.sscdn.co/img/grey.gif" data-img="[[img]]" width="45" height="34"></span>[[& msg]]<small data-time="[[updated_at]]"></small></a>[[#fr]]<a data-sid="[[sid]]" data-type="confirm" class="ccid_submit ccid_bt">Confirmar amizade</a><a data-sid="[[sid]]" data-type="ignore" class="ccid_submit ccid_bt">Ignorar</a>[[/fr]]</li>[[/notifications]]',cc:'<div class="ccid_esquerda_aba"><div class="ccid_titulo_aba"><a href="'+urls.cc+'top_musicas.php">Top</a></div><ul class="ccid_lista_aba"><li><a href="'+urls.cc+'cifras/#geral">'+gettext("Geral")+'</a></li><li><a href="'+urls.cc+'cifras/#semanal">'+gettext("Semana")+'</a></li><li><a href="'+urls.cc+'cifras/#mensal">'+gettext("Mês")+'</a></li></ul></div><div class="ccid_direita_aba"><div class="ccid_titulo_aba"><a href="'+urls.cctv+'">'+gettext("Vídeo-aulas em destaque")+'</a></div><div class="ccid_destaques_cifraclub"><ul>[[#video_aulas]]<li><a href="[[u]]"><img width="120" height="90" src="//i3.ytimg.com/vi/[[y]]/1.jpg"><span><strong>[[&m]]</strong>[[&a]]</span></a></li>[[/video_aulas]]</ul></div><a href="'+urls.cctv+'">'+gettext("Veja todas as vídeo-aulas")+"</a></div>",lt:'<div class="ccid_esquerda_aba"><div class="ccid_titulo_aba"><a href="'+urls.lt+'top-musicas/">'+gettext("Top")+'</a></div><ul class="ccid_lista_aba"><li><a href="'+urls.lt+'top-musicas/hoje.html">'+gettext("Hoje")+'</a></li><li><a href="'+urls.lt+'top-musicas/geral.html">'+gettext("Geral")+'</a></li><li><a href="'+urls.lt+'top-musicas/">'+gettext("Semana")+'</a></li><li><a href="'+urls.lt+'top-musicas/mes.html">'+gettext("Mês")+'</a></li></ul></div><div class="ccid_direita_aba"><div class="ccid_titulo_aba"><a href="'+urls.lt+'">'+gettext("Ouvindo")+'</a><a href="'+urls.lt+'" class="ccid_link_titulo">[[agora]] '+gettext("pessoas ouvindo agora")+'</a></div><div class="ccid_destaques_letras">[[#artistas]]<a href="[[u]]" class="ccid_destaque[[c]]"><img src="[[i]]" class="ccid_destaque_letras"><strong>[[&m]]</strong><small>[[&a]]</small></a>[[/artistas]]</div></div>'};_='""';tpls={bar:'<div class="container_ccid" style="display:none"><ul class="ccid_sites"><li><a href="'+urls.cc+'" class="ccid_link_bar" data-tab="cc">Cifra Club</a><div class="ccid_aba_cifraclub ccid_aba"></div></li><li><a href="'+urls.lt+'" class="ccid_link_bar" data-tab="lt">Letras.mus.br</a><div class="ccid_aba_letras ccid_aba"></div></li><li><a href="'+urls.pm+'" class="ccid_link_bar" data-tab="pm">Palco MP3</a><div class="ccid_aba_palco ccid_aba"></div></li><li><a href="'+urls.fcc+'" class="ccid_link_bar" data-tab="fcc">Fórum</a><div class="ccid_aba_forum ccid_aba"></div></li><li><a href="'+urls.ccn+'" class="ccid_link_bar" data-tab="ccn">Notícias</a><div class="ccid_aba_noticias ccid_aba"></div></li><li><a href="'+urls.aw+'" class="ccid_link_bar" data-tab="aw">Audioware</a><div class="ccid_aba_audio ccid_aba"></div></li><li><a href="'+urls.gb+'" class="ccid_link_bar" data-tab="gb">Guitar Battle</a><div class="ccid_aba_gb ccid_aba"></div></li><li><a href="'+urls.fsb+'" class="ccid_link_bar" data-tab="fsb">Forme sua Banda</a><div class="ccid_aba_forme ccid_aba"></div></li><li><a href="http://www.terra.com.br/" target="_blank" id="lst-music">música</a></li></ul><div id="ccid_lateral_top"><div class="ccid_container-lateral"></div></div></div>',logged_side:_defaults.logged_side,empty_notifications:_defaults.empty_notifications,default_side:_defaults.default_side,social:_defaults.social,login:_defaults.login,terra:'<div id="btss"><div id="bt" class="ativo"><h4 id="lt"><a title="Terra" href="http://[[URL]]/" target="_blank">Terra</a></h4><a href="http://[[URL]]/" target="_blank" id="lst-music">música</a></div></div>',notifications:_defaults.notifications,cc:_defaults.cc,lt:_defaults.lt,pm:'<div class="ccid_esquerda_aba"><div class="ccid_titulo_aba"><a href="'+urls.pm+'top-artistas/">Top</a></div><ul class="ccid_lista_aba"><li><a href="'+urls.pm+'top-artistas/hoje.htm">Hoje</a></li><li><a href="'+urls.pm+'top-artistas/geral.htm">Geral</a></li><li><a href="'+urls.pm+'top-artistas/semanal.htm">Semana</a></li><li><a href="'+urls.pm+'top-artistas/mes.htm">Mês</a></li></ul></div><div class="ccid_direita_aba"><div class="ccid_titulo_aba"><a href="'+urls.pm+'">Artistas em destaque</a></div><ul class="ccid_lista_artistas">[[#destaques]]<li><a href="[[u]]" class="ccid_link_cinza" alt="[[a]]"><img src="[[i]]" width="117" height="56"> [[&g]]</a></li>[[/destaques]]</ul><a href="'+urls.pm+'/destaques.htm">Veja todos os destaques</a></div>',fcc:'<div class="ccid_titulo_aba"><a href="'+urls.fcc+'">Mais acessados</a></div><ul class="ccid_destaques_forum"><li class="ccid_borda_direita"><a href="'+urls.fcc+'forum/3/" class="ccid_link_cinza"><span class="ccid_guitarra"></span> Guitarra</a></li><li><a href="'+urls.fcc+'forum/4/" class="ccid_link_cinza"><span class="ccid_violao"></span> Violão</a></li><li class="ccid_borda_direita"><a href="'+urls.fcc+'forum/7/" class="ccid_link_cinza"><span class="ccid_pedais"></span> Pedais &amp; Pedaleiras</a></li><li><a href="'+urls.fcc+'forum/6/" class="ccid_link_cinza"><span class="ccid_bateria"></span> Bateria</a></li><li class="ccid_borda_direita"><a href="'+urls.fcc+'forum/8/" class="ccid_link_cinza"><span class="ccid_teclado"></span> Teclado</a></li><li><a href="'+urls.fcc+'forum/2/" class="ccid_link_cinza"><span class="ccid_contra_baixo"></span> Contra-baixo</a></li></ul><a href="'+urls.fcc+'">Veja todos os fóruns</a>',ccn:'<div class="ccid_titulo_aba"><a href="'+urls.ccn+'">Plantão de notícias</a></div><div class="ccid_destaques_noticias">[[#noticias]]<a class="ccid_destaque ccid_link_cinza[[c]]" href="[[u]]"><img class="ccid_destaque_noticias" src="[[i]]" alt="[[t]]">[[&t]]</a>[[/noticias]]</div><a href="'+urls.ccn+'">Veja mais notícias</a>',aw:'<div class="ccid_esquerda_aba"><div class="ccid_titulo_aba"><a href="'+urls.aw+'">Tops</a></div><ul>[[#top]]<li><a href="[[u]]"><span class="ccid_thumb_audio"><img src="[[i]]" alt="[[s]]" width="25" height="25"></span><strong>[[&s]]</strong><small>[[d]] downloads</small></a></li>[[/top]]</ul></div><div class="ccid_direita_aba"><div class="ccid_titulo_aba"><a href="'+urls.aw+'">Destaques</a></div><div class="ccid_destaques_audio">[[#dstq]]<a href="[[u]]"><img src="[[i]]" alt="[[s]]" width="105" height="78"></a>[[/dstq]]</div><a href="'+urls.aw+'">Veja todos os destaques</a></div>',gb:'<div class="ccid_esquerda_aba"><div class="ccid_titulo_aba"><a href="'+urls.gb+'">Batalhas</a></div><div class="ccid_container_esquerda"><ul class="ccid_batalhas">[[#bat]]<li><a href="[[u]]" class="ccid_link_cinza"><small>[[&c1]]</small><span class="versus [[h]]"></span><small>[[&c2]]</small></a></li>[[/bat]]</ul><a href="'+urls.gb+'" class="ccid_mais_batalhas">Veja mais batalhas</a></div></div><div class="ccid_direita_aba"><div class="ccid_titulo_aba"><a href="'+urls.gb+'licoes/">Lições</a></div>[[#lic]]<div class="ccid_img_licao"><a href="[[u]]"><img src="[[i]]" width="236" height="85"><span class="ccid_titulo_licao">[[&t]]</span><span class="ccid_autor_licao">    por: [[&a]]</span></a></div>[[/lic]]<a href="'+urls.gb+'licoes/">Veja outras lições</a></div>',fsb:'<div class="ccid_titulo_aba"><a href="'+urls.fsb+'?tipo=1&id_estado=[[s]]&id_cidade=[[i]]">Músicos de [[c]]</a><a href="'+urls.fsb+'anunciar_musico.php" class="ccid_link_titulo">Anuncie</a></div><div class="ccid_musicos_destaque">[[#mus]]<a href="[[u]]"[[#c]] class="[[c]]"[[/c]]><span class="ccid_thumb_musico"><img src="[[i]]" widht="35" height="35"></span><strong>[[&n]]</strong><span>[[&it]]</span><small>[[&g]]</small></a>[[/mus]]</div><a href="'+urls.fsb+'">Veja todos os músicos/bandas</a>'};_='""';for(i in tpls){if(tpls.hasOwnProperty(i)){tpls[i]=hoganCompile(tpls[i])}}return tpls}(Hogan,SS.ccidbar.consts));SS.ccidbar.notifications=(function(){var $ccidbar=null,consts=SS.ccidbar.consts,urls={socket:consts.CCIDNS_SOCKET+"socket/",polling:consts.CCIDNS_HOST+"polling/",markAsRead:consts.CCIDNS_HOST+"polling/read/",user:consts.CCIDNS_HOST+"v1/bar.json"},_connection=null,FADE_SPEED=100,_toRemove=[],_init,_socket,_polling,_onMessage,_onPollingMessage,_connect,_getUserNotifications,_markAsRead,_toggleNotifications,_acaoAmizade,_bounceUnreadNumber,_getImages;_socket=function(){var socket=new WebSocket(urls.socket);socket.onmessage=function(e){_onMessage($.parseJSON(e.data))};return socket};_polling=function(){var deferred,now;clearTimeout(window.ccidbar_polling);now=$.now();deferred=$.ajax({url:urls.polling+"?t="+now,type:"GET",dataType:"jsonp",jsonpCallback:"SS.ccidbar.notifications.onPollingMessage"});deferred.id=now;window.ccidbar_polling=setTimeout(function(){_connect()},1000*60*10);return deferred};_onPollingMessage=function(data,timestamp){if(_connection.id!=timestamp){return false}_onMessage(data);_connect()};_connect=function(){_connection=consts.SUPPORTS_WEBSOCKET?_socket():_polling()};_getImages=function(){var list=$ccidbar.find(".ccid_lista_notificacoes");list.find("img").each(function(){if($(this).data("img")!=$(this).attr("src")){$(this).attr("src",$(this).data("img"))}})};_onMessage=function(message_data,plus){var i,max,notification,li,total,removed=0,list=$ccidbar.find(".ccid_lista_notificacoes"),ul=list.find("ul"),unread=$ccidbar.find(".ccid_qtd_notificacoes"),num_unread=unread.data("unread")||0;plus=typeof plus!=="undefined"?plus:1;message_data=typeof message_data.length=="undefined"?[message_data]:message_data;for(i=0,max=message_data.length;i<max;i++){notification=message_data[i];li=list.find("li[data-id="+notification.id+"]");if(li.length>0){li.remove();removed++;continue}notification.fr=notification.type==1&&!!notification.sid}total=ul.find("li").length+message_data.length;if(total===0){$(".ccid_all_notif").hide();list.html(SS.ccidbar.tpls.empty_notifications.render({empty_notifications:message_data}))}else{if(ul.length===0){$(".ccid_all_notif").show();list.html("<ul>"+SS.ccidbar.tpls.notifications.render({notifications:message_data})+"</ul>")}else{$(".ccid_all_notif").show();ul.prepend(SS.ccidbar.tpls.notifications.render({notifications:message_data}))}}$ccidbar.find("small[data-time]").timeago((new Date("2015-09-22 09:42:08.103147")).getTime());num_unread+=plus-removed;if(num_unread<=0&&removed>0){num_unread=removed}_bounceUnreadNumber(unread,num_unread);if($ccidbar.find("#ccid_notificacoes").is(":visible")){_getImages()}};_bounceUnreadNumber=function(unread,num_unread){var ANIM_INITIAL_SPEED=200,ANIM_BOUNCE_SPEED=100,bounce;bounce=function(){unread.animate({bottom:10},ANIM_INITIAL_SPEED).animate({bottom:0},ANIM_INITIAL_SPEED).animate({bottom:3},ANIM_BOUNCE_SPEED).animate({bottom:0},ANIM_BOUNCE_SPEED)};num_unread=parseInt(num_unread,10);unread.text(num_unread).data("unread",num_unread);if(num_unread===0){unread.fadeOut(FADE_SPEED)}else{if(!unread.is(":visible")){unread.css("bottom",40).fadeIn(FADE_SPEED).animate({bottom:0},ANIM_INITIAL_SPEED,bounce)}else{unread.fadeIn(FADE_SPEED,bounce)}}};_acaoAmizade=function($botao,callback){var type=$botao.data("type"),sid=$botao.data("sid"),$msg=$botao.parent(),errorMessage="Não foi possível completar a ação desejada. Atualize a página e tente novamente!";$.ajax({url:consts.CCIDNS_HOST+"v1/user/friendship/"+type+"/",type:"GET",dataType:"jsonp",data:{sid:sid,nid:$msg.data("id")},success:function(data){if(data.status!="ok"){alert(errorMessage);return}var msg="Você agora é amigo de ";if(type!=="confirm"){msg="Você ignorou o pedido de amizade de "}$msg.html($msg.html().replace(" te enviou um pedido de amizade","")).removeClass("ccid_amizade").find(".ccid_bt").remove();$msg.find("b").before(msg);_toRemove.push($msg.data("id"));if(typeof callback==="function"){callback($msg,type)}},error:function(jqXHR,textStatus,errorThrown){alert(errorMessage)}})};_getUserNotifications=function(){$.ajax({url:urls.user,type:"GET",dataType:"jsonp",jsonpCallback:"SSNot",cache:true,success:function(notifications){var num_unread=0;$.each(notifications,function(i,notification){if(notification.status==="NL"){num_unread++}});_onMessage(notifications,num_unread)}})};_markAsRead=function(){var callback=function(){$ccidbar.find(".ccid_qtd_notificacoes").fadeOut(FADE_SPEED,function(){$(this).text("0").data("unread",0)});$ccidbar.find('.ccid_lista_notificacoes li[data-type="2"]').each(function(){_toRemove.push($(this).data("id"))})};window.ccidMark=callback;$.ajax({url:urls.markAsRead,type:"get",dataType:"jsonp",jsonpCallback:"ccidMark"})};_toggleNotifications=function(event){var div=$ccidbar.find("#ccid_notificacoes"),list=div.find(".ccid_lista_notificacoes"),scrollPaneApi=false,unread=$ccidbar.find(".ccid_qtd_notificacoes").data("unread"),thumb=$(".ccid_barra_thumb"),i;for(i=0;i<_toRemove.length;i++){div.find('li[data-id="'+_toRemove.pop()+'"]').remove()}if(div.is(":visible")){div.fadeOut(FADE_SPEED)}else{div.fadeIn(FADE_SPEED,function(){if(unread>0){_markAsRead()}$(document).off("click.ccidbar").on("click.ccidbar",function(event){var has=div.has($(event.target)).length,has2=thumb.has($(event.target)).length;if(div.is(":visible")&&!has&&!has2){$(document).unbind(".ccidbar");div.fadeOut(FADE_SPEED)}});list.off("click",".ccid_bt").on("click",".ccid_bt",function(){_acaoAmizade($(this));return false});scrollPaneApi=list.data("jsp");if(typeof scrollPaneApi==="object"){scrollPaneApi.reinitialise()}list.jScrollPane();_getImages()})}};_init=function(){if(!consts.IS_LOGGED){return}$ccidbar=$("#ccid");$ccidbar.on("click",".ccid_barra_thumb > i, .ccid_barra_thumb > a",_toggleNotifications).on("mouseover",".ccid_lista_notificacoes",function(){$(this).find(".jspContainer").addClass("jspMouseOver")}).on("mouseout",".ccid_lista_notificacoes",function(){$(this).find(".jspContainer").removeClass("jspMouseOver")}).on("click",".ccid_lista_notificacoes ul li a",_toggleNotifications);$ccidbar.find(".ccid_qtd_notificacoes").data("unread",0);if($ccidbar.length){$(function(){_getUserNotifications();_connect()})}};return{init:function(){_init()},onPollingMessage:function(d,t){_onPollingMessage(d,t)},acaoAmizade:function(o,cb){_acaoAmizade(o,cb)}}}());window.SS=SS}(window,jQuery));